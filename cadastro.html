<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cadastro - NossoPet</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="segunda-tela">
  <div class="container">
    <h1>Cadastro</h1>
    <form class="form-cadastro" onsubmit="validarCadastro(event)">
      <div class="campo">
        <label for="nome">Nome Completo:</label>
        <input type="text" id="nome" name="nome" required>
      </div>
      <div class="campo">
        <label for="endereco">Endereço:</label>
        <input type="text" id="endereco" name="endereco" required>
      </div>
      <div class="campo">
        <label for="numero">Telefone:</label>
        <input type="text" id="numero" name="numero" required>
      </div>
      <div class="campo">
        <label for="email">E-mail:</label>
        <input type="email" id="email" name="email" required>
      </div>
      <div class="campo">
        <label for="data_nascimento">Data de Nascimento:</label>
        <input type="date" id="data_nascimento" name="data_nascimento" required>
      </div>
      <div class="campo">
        <label for="senha">Senha:</label>
        <input type="password" id="senha" name="senha" required>
      </div>
      <div class="campo">
        <label for="confirmar_senha">Confirmar Senha:</label>
        <input type="password" id="confirmar_senha" name="confirmar_senha" required>
      </div>
      <button type="submit" class="btn-cadastrar">Cadastrar</button>
    </form>
  </div>

  <script>
    function validarCadastro(event) {
      event.preventDefault();

      const nome = document.getElementById("nome").value.trim();
      const telefone = document.getElementById("numero").value.trim();
      const email = document.getElementById("email").value.trim();
      const dataNascimento = document.getElementById("data_nascimento").value;
      const senha = document.getElementById("senha").value;
      const confirmarSenha = document.getElementById("confirmar_senha").value;

      // Nome não pode conter números
      if (/\d/.test(nome)) {
        alert("O nome não pode conter números.");
        return;
      }

      // Telefone: apenas números e 13 dígitos
      if (!/^\d{13}$/.test(telefone)) {
        alert("O telefone deve conter exatamente 13 dígitos numéricos (ex: 5544998887743).");
        return;
      }

      // E-mail: deve conter @ e domínio válido
      const emailValido = /^[a-zA-Z0-9._%+-]+@(gmail|outlook|hotmail)\.com$/;
      if (!emailValido.test(email)) {
        alert("Insira um e-mail válido do Gmail, Outlook ou Hotmail.");
        return;
      }

      // Validação da idade
      const hoje = new Date();
      const nascimento = new Date(dataNascimento);
      const idade = hoje.getFullYear() - nascimento.getFullYear();
      const mes = hoje.getMonth() - nascimento.getMonth();
      if (mes < 0 || (mes === 0 && hoje.getDate() < nascimento.getDate())) {
        idade--;
      }

      if (idade < 18 || idade > 100) {
        alert("Você precisa ter entre 18 e 100 anos para se cadastrar.");
        return;
      }

      // Confirmação de senha
      if (senha !== confirmarSenha) {
        alert("As senhas não coincidem.");
        return;
      }

      // Se passou por todas as validações
      window.location.href = "passeadores.html";
    }
  </script>
</body>
</html>
